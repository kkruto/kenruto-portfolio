{% extends 'base.html' %}
{% load static %}

{% block title %}About - Ken Ruto{% endblock %}

{% block content %}

<div class="page-transition pt-24 pb-16">
    <div class="container-custom max-w-4xl">

        <!-- Profile Header -->
        <section class="mb-12 text-center">
            <div class="w-24 h-24 rounded-full bg-gradient-to-br from-accent to-accent-dark flex items-center justify-center text-white text-3xl font-medium mx-auto mb-6">
                KR
            </div>
            <h1 class="text-3xl font-medium text-neutral-900 mb-2">
                Ken Ruto
            </h1>
            <p class="text-base text-neutral-600 mb-8">
                Product Manager & Engineer
            </p>

            <!-- Download Resume -->
            {% if resume and resume.resume_file %}
            <a
                href="{{ resume.resume_file.url }}"
                download
                class="inline-flex items-center gap-2 text-sm text-accent hover:text-accent-dark font-medium mb-8"
            >
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                </svg>
                Download PDF Resume
            </a>
            {% endif %}
        </section>

        <!-- About Me -->
        <section class="mb-12 bg-white rounded-xl border border-neutral-200 p-8">
            <h2 class="text-xl font-medium text-neutral-900 mb-6">About Me</h2>
            <div class="prose prose-neutral max-w-none">
                <p class="text-neutral-700 leading-relaxed mb-4">
                    I work at the intersection of tech, design, art, storytelling, and AI. My background is in product management and engineering, but I'm equally interested in how stories are told through different mediums—whether that's software, essays, films, or data visualization.
                </p>
                <p class="text-neutral-700 leading-relaxed mb-4">
                    I studied at Haverford College and have worked in both San Francisco and Nairobi. Currently based in Nairobi, I'm exploring how AI is changing creative work and what it means to build products that help people create, not just consume.
                </p>
                <p class="text-neutral-700 leading-relaxed">
                    I also love travel, photography, and making things that don't fit neatly into categories. Some of my side projects succeed, most don't, but all of them teach me something.
                </p>
            </div>
        </section>

        <!-- Resume Section with Collapsible Details -->
        <section class="mb-12">
            <h2 class="text-xl font-medium text-neutral-900 mb-6">Resume</h2>

            <!-- Experience Dropdown -->
            {% if experiences %}
            <div
                x-data="{ open: false }"
                class="bg-white rounded-xl border border-neutral-200 mb-4"
            >
                <button
                    @click="open = !open"
                    class="w-full flex items-center justify-between p-6 text-left hover:bg-neutral-50 transition-colors"
                >
                    <h3 class="text-lg font-medium text-neutral-900">Experience</h3>
                    <svg
                        class="w-5 h-5 text-neutral-500 transition-transform"
                        :class="open && 'rotate-180'"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>

                <div
                    x-show="open"
                    x-transition
                    class="px-6 pb-6"
                >
                    <div class="space-y-6">
                        {% for exp in experiences %}
                        <div class="{% if not forloop.last %}border-b border-neutral-200 pb-6{% endif %}">
                            <div class="flex justify-between items-start mb-2">
                                <div>
                                    <h4 class="text-sm font-medium text-neutral-900">{{ exp.title }}</h4>
                                    <p class="text-sm text-neutral-600">{{ exp.organization }}{% if exp.location %} • {{ exp.location }}{% endif %}</p>
                                </div>
                                <div class="text-right text-xs text-neutral-500 whitespace-nowrap ml-4">
                                    {{ exp.start_date|date:"M Y" }} - {% if exp.end_date %}{{ exp.end_date|date:"M Y" }}{% else %}Present{% endif %}
                                </div>
                            </div>

                            {% if exp.description %}
                            <p class="text-sm text-neutral-700 mb-2">{{ exp.description }}</p>
                            {% endif %}

                            {% if exp.achievements %}
                            <ul class="space-y-1 mb-3">
                                {% for achievement in exp.achievements %}
                                <li class="text-xs text-neutral-700 flex items-start gap-2">
                                    <span class="text-neutral-400 mt-1">•</span>
                                    <span>{{ achievement }}</span>
                                </li>
                                {% endfor %}
                            </ul>
                            {% endif %}

                            {% if exp.tech_stack %}
                            <div class="flex flex-wrap gap-1.5 mt-2">
                                {% for tech in exp.tech_stack %}
                                <span class="bg-neutral-100 text-neutral-600 text-xs px-2 py-0.5 rounded">
                                    {{ tech }}
                                </span>
                                {% endfor %}
                            </div>
                            {% endif %}
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            {% endif %}

            <!-- Education Dropdown -->
            {% if education %}
            <div
                x-data="{ open: false }"
                class="bg-white rounded-xl border border-neutral-200 mb-4"
            >
                <button
                    @click="open = !open"
                    class="w-full flex items-center justify-between p-6 text-left hover:bg-neutral-50 transition-colors"
                >
                    <h3 class="text-lg font-medium text-neutral-900">Education</h3>
                    <svg
                        class="w-5 h-5 text-neutral-500 transition-transform"
                        :class="open && 'rotate-180'"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>

                <div
                    x-show="open"
                    x-transition
                    class="px-6 pb-6"
                >
                    <div class="space-y-3">
                        {% for edu in education %}
                        <div>
                            <div class="flex justify-between items-start mb-1">
                                <div>
                                    <h4 class="text-sm font-medium text-neutral-900">{{ edu.title }}</h4>
                                    <p class="text-sm text-neutral-600">{{ edu.organization }}</p>
                                </div>
                                <div class="text-xs text-neutral-500 whitespace-nowrap ml-4">
                                    {{ edu.start_date|date:"Y" }} - {{ edu.end_date|date:"Y" }}
                                </div>
                            </div>
                            {% if edu.description %}
                            <p class="text-xs text-neutral-700">{{ edu.description }}</p>
                            {% endif %}
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            {% endif %}

            <!-- Skills Dropdown -->
            {% if skills %}
            <div
                x-data="{ open: false }"
                class="bg-white rounded-xl border border-neutral-200"
            >
                <button
                    @click="open = !open"
                    class="w-full flex items-center justify-between p-6 text-left hover:bg-neutral-50 transition-colors"
                >
                    <h3 class="text-lg font-medium text-neutral-900">Skills</h3>
                    <svg
                        class="w-5 h-5 text-neutral-500 transition-transform"
                        :class="open && 'rotate-180'"
                        fill="none"
                        stroke="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                </button>

                <div
                    x-show="open"
                    x-transition
                    class="px-6 pb-6"
                >
                    <div class="grid md:grid-cols-2 gap-4">
                        {% regroup skills by category as skill_groups %}
                        {% for group in skill_groups %}
                        <div>
                            <h4 class="text-xs font-medium text-neutral-900 uppercase tracking-wide mb-1.5">{{ group.grouper|title }}</h4>
                            <p class="text-xs text-neutral-700 leading-relaxed">
                                {% for skill in group.list %}{{ skill.name }}{% if not forloop.last %}, {% endif %}{% endfor %}
                            </p>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            {% endif %}
        </section>

        <!-- Connect -->
        <section class="border-t border-neutral-200 pt-8 text-center">
            <p class="text-sm text-neutral-700 mb-4">
                Let's talk if you're building something weird, creative, or at the intersection of art and tech.
            </p>
            <div class="flex flex-wrap justify-center gap-2">
                <button @click="$dispatch('open-contact-modal')" class="text-sm bg-accent hover:bg-accent-dark text-white px-4 py-1.5 rounded transition-colors">
                    Get in Touch
                </button>
                <a href="https://twitter.com/kenruto" target="_blank" class="text-sm bg-neutral-200 hover:bg-neutral-300 text-neutral-900 px-4 py-1.5 rounded transition-colors">
                    Twitter
                </a>
                <a href="https://github.com/kkruto" target="_blank" class="text-sm bg-neutral-200 hover:bg-neutral-300 text-neutral-900 px-4 py-1.5 rounded transition-colors">
                    GitHub
                </a>
                <a href="https://linkedin.com/in/kennyruto" target="_blank" class="text-sm bg-neutral-200 hover:bg-neutral-300 text-neutral-900 px-4 py-1.5 rounded transition-colors">
                    LinkedIn
                </a>
            </div>
        </section>

    </div>
</div>

{% endblock %}
